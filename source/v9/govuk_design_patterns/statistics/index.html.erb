---
layout: govuk_design_patterns
productName: Design Patterns
sectionNav: patterns
---


<main id="content" role="main">
<br>

<h1 class='heading-large'>Statistics</h1>

<%
pattern_root = "/v9/govuk_design_patterns/patterns/" 
status_order = ["Backlog", "Alpha", "Beta", "Approved"]

# Get all the patterns
# Sort them by title

design_patterns = sitemap.resources													
	.select { |r|		
    	r.data.section && 								
		r.url.start_with?(pattern_root)											
	}
	.sort_by { |r| r.data.title }
%>

<ul class="stats">
	<li>
		<span class="stat-number"><%= design_patterns.length %></span>
		<span class="stat-name">Patterns</span>
	</li>
	<%
	design_patterns_by_status = design_patterns.group_by { |r| r.data.status }

	design_patterns_by_status_ordered = design_patterns_by_status.keys.sort_by do |r|
	  status_order.index(r) || Float::INFINITY
	end

	design_patterns_by_status_ordered.each do |status|
  		arr = design_patterns_by_status[status]		
	%>

	<li>
		<span class="stat-number"><%= arr.size %></span>
		<span class="stat-name"><%= status %></span>
	</li>

	<% end %>
</ul>

<h2 class='heading-medium'>Full list of patterns</h2>

<table class="patterns-table">
	<tr>
		<th>Title</th>
		<th>Section</th>
		<th>Priority</th>
		<th>Department</th>
		<th>Status</th>
	</tr>
<%			
design_patterns.each do |res| 
%>	 
	<tr>
		<td><%= link_to res.data.title, res.url %></td>
		<td><%= res.data.section %></td>
		<td><%= res.data.priority %></td>
		<td><%= res.data.department %></td>
		<td><%= res.data.status %></td>
	</tr>
<% end %>
</table>

</main>